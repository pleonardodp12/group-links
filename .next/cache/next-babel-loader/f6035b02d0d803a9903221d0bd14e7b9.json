{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/leonardo/Documentos/group-links/pages/[slug].js\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\n\nvar RedirectTo = function RedirectTo() {\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 7\n    }\n  }, \"URL n\\xE3o encontrada\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }\n  }, \"Estamos redirecionando voc\\xEA para a central de links.\"));\n};\n\n_c = RedirectTo;\nexport var __N_SSP = true;\nexport default RedirectTo;\n\nvar _c;\n\n$RefreshReg$(_c, \"RedirectTo\");","map":{"version":3,"sources":["/home/leonardo/Documentos/group-links/pages/[slug].js"],"names":["React","RedirectTo"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAFF,CADF;AAMD,CAPD;;KAAMA,U;;AAwBN,eAAeA,UAAf","sourcesContent":["import React from 'react';\nimport Prismic from 'prismic-javascript';\n\nconst RedirectTo = () => {\n  return (\n    <div>\n      <h1>URL não encontrada</h1>\n      <p>Estamos redirecionando você para a central de links.</p>\n    </div>\n  );\n};\n\nexport async function getServerSideProps({ params, res }){\n  const client = Prismic.client(\"https://linksgroup.cdn.prismic.io/api/v2\");\n  const link = await client.getByUID('shortlink', params.slug);\n  if(link){\n    res.statusCode = 301; //conteudo movido permanentemente \n    res.setHeader('Location', link.data.destino.url); //redireciona\n    res.end();\n    return;\n  }\n  console.log(link)\n  return {\n    props: {},\n  }\n}\n\nexport default RedirectTo;"]},"metadata":{},"sourceType":"module"}