{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/leonardo/Documentos/group-links/pages/[slug].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\n\nvar RedirectTo = function RedirectTo() {\n  _s();\n\n  var router = useRouter();\n  useEffect(function () {\n    setTimeout(function () {\n      router.push('/');\n    }, 2000);\n  }, []);\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }\n  }, \"URL n\\xE3o encontrada\"), __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, \"Estamos redirecionando voc\\xEA para a central de links.\"));\n};\n\n_s(RedirectTo, \"vQduR7x+OPXj6PSmJyFnf+hU7bg=\", false, function () {\n  return [useRouter];\n});\n\n_c = RedirectTo;\nexport var __N_SSP = true;\nexport default RedirectTo;\n\nvar _c;\n\n$RefreshReg$(_c, \"RedirectTo\");","map":{"version":3,"sources":["/home/leonardo/Documentos/group-links/pages/[slug].js"],"names":["React","useEffect","useRouter","RedirectTo","router","setTimeout","push"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AACvB,MAAMC,MAAM,GAAGF,SAAS,EAAxB;AACAD,EAAAA,SAAS,CAAC,YAAM;AACdI,IAAAA,UAAU,CAAC,YAAM;AACfD,MAAAA,MAAM,CAACE,IAAP,CAAY,GAAZ;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAFF,CADF;AAMD,CAbD;;GAAMH,U;UACWD,S;;;KADXC,U;;AA8BN,eAAeA,UAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport Prismic from 'prismic-javascript';\nimport { useRouter } from 'next/router'\n\nconst RedirectTo = () => {\n  const router = useRouter();\n  useEffect(() => {\n    setTimeout(() => {\n      router.push('/')\n    }, 2000)\n  }, [])\n  return (\n    <div>\n      <h1>URL não encontrada</h1>\n      <p>Estamos redirecionando você para a central de links.</p>\n    </div>\n  );\n};\n\nexport async function getServerSideProps({ params, res }){\n  const client = Prismic.client(\"https://linksgroup.cdn.prismic.io/api/v2\");\n  const link = await client.getByUID('shortlink', params.slug);\n  if(link){\n    res.statusCode = 301; //conteudo movido permanentemente \n    res.setHeader('Location', link.data.destino.url); //redireciona\n    res.end();\n    return;\n  }\n  console.log(link)\n  return {\n    props: {},\n  }\n}\n\nexport default RedirectTo;"]},"metadata":{},"sourceType":"module"}